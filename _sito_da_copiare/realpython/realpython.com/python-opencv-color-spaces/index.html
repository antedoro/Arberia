
<!doctype html>
<html lang="en">
<head>
<link href="https://cdn.realpython.com" rel="preconnect">
<link href="https://files.realpython.com" rel="preconnect">
<title>Image Segmentation Using Color Spaces in OpenCV + Python – Real Python</title>
<meta name="author" content="Real Python">
<meta name="description" content="In this introductory tutorial, you&#x27;ll learn how to simply segment an object from an image based on color in Python using OpenCV. A popular computer vision library written in C/C++ with bindings for Python, OpenCV provides easy ways of manipulating color spaces.">
<meta name="keywords" content="">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
<link rel="stylesheet" href="https://cdn.realpython.com/static/realpython.min.1ecfd4a9d422.css">
<link rel="stylesheet" href="https://cdn.realpython.com/static/gfonts/font.08e909e5f3d4.css">
<link rel="preload" href="https://cdn.realpython.com/static/glightbox.min.f69035b3cab2.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdn.realpython.com/static/glightbox.min.f69035b3cab2.css"></noscript>
<link rel="canonical" href="https://realpython.com/python-opencv-color-spaces/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://files.realpython.com/media/Simple-image-segmentation-using-OpenCV-color-spaces_Watermark.b9993eceabc0.jpg">
<meta property="og:image" content="https://files.realpython.com/media/Simple-image-segmentation-using-OpenCV-color-spaces_Watermark.b9993eceabc0.jpg">
<meta name="twitter:creator" content="@realpython">
<meta name="twitter:site" content="@realpython">
<meta property="og:title" content="Image Segmentation Using Color Spaces in OpenCV + Python – Real Python">
<meta property="og:type" content="article">
<meta property="og:url" content="https://realpython.com/python-opencv-color-spaces/">
<meta property="og:description" content="In this introductory tutorial, you&#x27;ll learn how to simply segment an object from an image based on color in Python using OpenCV. A popular computer vision library written in C/C++ with bindings for Python, OpenCV provides easy ways of manipulating color spaces.">
<link href="https://cdn.realpython.com/static/favicon.68cbf4197b0c.png" rel="icon">
<link href="https://realpython.com/atom.xml" rel="alternate" title="Real Python" type="application/atom+xml">
<link rel="manifest" href="/manifest.json">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35184939-1', 'auto', {'allowLinker': true});

  
    ga('set', 'anonymizeIp', true);
  

  

  
  
  ga('set', {
    dimension1: false,
    dimension2: false
  });
  

  ga('send', 'pageview');
  
</script>
<script async src='/cdn-cgi/challenge-platform/h/b/scripts/invisible.js'></script></head>
<body>
<nav class="navbar fixed-top navbar-expand-lg navbar-dark flex-column ">
<div class="container flex-row">
<a class="navbar-brand" href="/">
<img src="https://cdn.realpython.com/static/real-python-logo.893c30edea53.svg" width="165" height="40" class="d-inline-block align-top" alt="Real Python">
</a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse navbar-nav-scroll" id="navbarSupportedContent" role="navigation" aria-label="Main Navigation">
 <ul class="navbar-nav mr-2 flex-fill">
<li class="nav-item">
<a class="nav-link" href="/start-here/">Start&nbsp;Here</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownLibrary" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="fa fa-graduation-cap" aria-hidden="true"></span> Learn Python
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownLibrary">
<a class="dropdown-item" href="/" style="color: #ff7e73; line-height: 110%;"><i class="fa fa-fw mr-1 fa-graduation-cap" aria-hidden="true"></i> Python Tutorials →<br><small class="text-secondary">In-depth articles and tutorials</small></a>
<a class="dropdown-item" href="/courses/" style="color: #abe5b1; line-height: 110%;"><i class="fa fa-fw mr-1 fa-film" aria-hidden="true"></i> Video Courses →<br><small class="text-secondary">Step-by-step video lessons</small></a>
<a class="dropdown-item" href="/quizzes/" style="color: #abe0e5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-trophy" aria-hidden="true"></i> Quizzes →<br><small class="text-secondary">Check your learning progress</small></a>
<a class="dropdown-item" href="/learning-paths/" style="color: #ffc873; line-height: 110%;"><i class="fa fa-fw mr-1 fa-map-o" aria-hidden="true"></i> Learning Paths →<br><small class="text-secondary">Guided study plans for accelerated learning</small></a>
<a class="dropdown-item" href="/community/" style="color: #e5c6ab; line-height: 110%;"><i class="fa fa-fw mr-1 fa-slack" aria-hidden="true"></i> Community →<br><small class="text-secondary">Learn with other Pythonistas</small></a>
<a class="dropdown-item pb-3" href="/tutorials/all/" style="color: #b8abe5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-tags" aria-hidden="true"></i> Topics →<br><small class="text-secondary">Focus on a specific area or skill level</small></a>
<a class="dropdown-item border-top" href="/account/join/"><i class="fa fa-fw fa-star text-warning" aria-hidden="true"></i> Unlock All Content</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownBooksCourses" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Store
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownBooksCourses">
<a class="dropdown-item" href="/account/join/"><i class="fa fa-fw fa-star text-warning" aria-hidden="true"></i> RP Membership</a>
<a class="dropdown-item" href="/products/python-basics-book/">Python Basics Book</a>
<a class="dropdown-item" href="/products/python-tricks-book/">Python Tricks Book</a>
<a class="dropdown-item" href="/products/cpython-internals-book/">CPython Internals Book</a>
<a class="dropdown-item" href="/products/real-python-course/">The Real Python Course</a>
<a class="dropdown-item" href="/products/managing-python-dependencies/">Managing Python Dependencies</a>
<a class="dropdown-item" href="/products/sublime-python/">Sublime Text + Python Setup</a>
<a class="dropdown-item" href="/products/pythonic-wallpapers/">Pythonic Wallpapers Pack</a>
<a class="dropdown-item" href="https://nerdlettering.com" target="_blank">Python Mugs, T-Shirts, and More</a>
<a class="dropdown-item" href="https://www.pythonistacafe.com" target="_blank">Pythonista Cafe Community</a>
<a class="dropdown-item border-top" href="/products/">Browse All »</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMore" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
More
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMore">
<a class="dropdown-item" href="/newsletter/">Python Newsletter</a>
<a class="dropdown-item" href="/podcasts/rpp/">Python Podcast</a>
<a class="dropdown-item" href="https://www.pythonjobshq.com" target="_blank">Python Job Board</a>
<a class="dropdown-item" href="/team/">Meet the Team</a>
<a class="dropdown-item" href="/write-for-us/">Become a Tutorial Author</a>
<a class="dropdown-item" href="/become-an-instructor/">Become a Video Instructor</a>
</div>
</li>
</ul>
<div class="d-block d-xl-none">
<ul class="navbar-nav">
<li class="nav-item">
<a class="nav-link" href="/search" title="Search"><span class="d-block d-lg-none"><i class="fa fa-search" aria-hidden="true"></i> Search</span><span class="d-none d-lg-block"><i class="fa fa-search" aria-hidden="true"></i></span></a>
</li>
</ul>
</div>
<div class="d-none d-xl-flex align-items-center mr-2">
<form class="form-inline" action="/search" method="GET">
<a class="js-search-form-submit position-absolute" href="/search" title="Search"><i class="fa fa-search fa-fw text-muted pl-2" aria-hidden="true"></i></a>
<input class="search-field form-control form-control-md mr-sm-1 mr-lg-2 w-100" style="padding-left: 2rem;" maxlength=50 type="search" placeholder="Search" aria-label="Search" name="q">
<input type="hidden" name="_from" value="nav">
</form>
</div>

<ul class="navbar-nav">
<li class="nav-item form-inline">
<a class="ml-2 ml-lg-0 btn btn-sm btn-primary px-3" href="/account/join/">Join</a>
</li>
<li class="nav-item">
<a class="btn text-light" href="/account/login/?next=%2Fpython-opencv-color-spaces%2F">Sign&#8209;In</a>
</li>
</ul>
</div>
</div>
</nav>
<div class="container main-content">
<div class="row justify-content-center">
<div class="col-md-11 col-lg-8 article with-headerlinks">
<figure class="embed-responsive embed-responsive-16by9">
<img class="card-img-top m-0 p-0 embed-responsive-item rounded" style="object-fit: contain;" alt="Color Spaces and How to Use Them With OpenCV and Python" src="https://files.realpython.com/media/Simple-image-segmentation-using-OpenCV-color-spaces_Watermark.b9993eceabc0.jpg" width="1920" height="1080" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Simple-image-segmentation-using-OpenCV-color-spaces_Watermark.b9993eceabc0.jpg&amp;w=480&amp;sig=2522c92c8293e2afe7b366ce1e8c6c47ee9b4e4a 480w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Simple-image-segmentation-using-OpenCV-color-spaces_Watermark.b9993eceabc0.jpg&amp;w=960&amp;sig=a23372b20a6b83b97f5450cbc8b107ca7bc041a9 960w, https://files.realpython.com/media/Simple-image-segmentation-using-OpenCV-color-spaces_Watermark.b9993eceabc0.jpg 1920w" sizes="75vw">
</figure>
<h1>Image Segmentation Using Color Spaces in OpenCV + Python</h1>
<div class="mb-0">
<span class="text-muted">by <a class="text-muted" href="#author">Rebecca Stone</a>
<span class="ml-2 mr-1 fa fa-comments"></span><a class="text-muted" href="#reader-comments"><span class="disqus-comment-count" data-disqus-identifier="https://realpython.com/python-opencv-color-spaces/"></span></a>
<span class="ml-2 fa fa-tags" aria-hidden="true"></span>
<a href="/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="/tutorials/machine-learning/" class="badge badge-light text-muted">machine-learning</a>
<div class="d-sm-flex flex-row justify-content-between my-3 text-center">
<div class="jsCompletionStatusWidget btn-group mb-0">
<button title="Click to mark as completed" class="jsBtnCompletion btn btn-secondary border-right " style="border-top-right-radius: 0; border-bottom-right-radius: 0;" disabled>Mark as Completed</button>
<button title="Add bookmark" class="jsBtnBookmark btn btn-secondary border-left" disabled><i class="fa fa-fw fa-bookmark-o"></i></button>
</div>
<div class="align-self-center my-2">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check out this %23Python tutorial: Image%20Segmentation%20Using%20Color%20Spaces%20in%20OpenCV%20%2B%20Python by @realpython&url=https%3A//realpython.com/python-opencv-color-spaces/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/python-opencv-color-spaces/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python article for you&body=Check out this Python tutorial:%0A%0AImage%20Segmentation%20Using%20Color%20Spaces%20in%20OpenCV%20%2B%20Python%0A%0Ahttps%3A//realpython.com/python-opencv-color-spaces/" class="badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
</div>
</div>
<div class="article-body">
<div class="bg-light sidebar-module sidebar-module-inset" id="toc">
<p class="h3 mb-2 text-muted">Table of Contents</p>
<div class="toc">
<ul>
<li><a href="#what-are-color-spaces">What Are Color Spaces?</a></li>
<li><a href="#simple-segmentation-using-color-spaces">Simple Segmentation Using Color Spaces</a><ul>
<li><a href="#color-spaces-and-reading-images-in-opencv">Color Spaces and Reading Images in OpenCV</a></li>
<li><a href="#visualizing-nemo-in-rgb-color-space">Visualizing Nemo in RGB Color Space</a></li>
<li><a href="#visualizing-nemo-in-hsv-color-space">Visualizing Nemo in HSV Color Space</a></li>
<li><a href="#picking-out-a-range">Picking Out a Range</a></li>
</ul>
</li>
<li><a href="#does-this-segmentation-generalize-to-nemos-relatives">Does This Segmentation Generalize to Nemo&rsquo;s Relatives?</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:12.5%;"></div>
<div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
<a class="small text-muted" href="/account/join/" rel="nofollow"> <i class="fa fa-info-circle" aria-hidden="true"> </i> Remove ads</a>
</div>
<p>It may be the era of deep learning and big data, where complex algorithms analyze images by being shown millions of them, but color spaces are still surprisingly useful for image analysis. Simple methods can still be powerful.</p>
<p><strong>In this article, you will learn how to simply segment an object from an image based on color in Python using OpenCV.</strong> A popular computer vision library written in C/C++ with <a href="https://realpython.com/python-bindings-overview/">bindings</a> for Python, OpenCV provides easy ways of manipulating color spaces.</p>
<p>While you don&rsquo;t need to be already familiar with OpenCV or the other helper packages used in this article, it is assumed that you have at least <a href="https://realpython.com/python-basics/">a basic understanding of coding in Python</a>.</p>
<div class="alert alert-warning" role="alert"><p><strong>Free Bonus:</strong> <a href="" class="alert-link" data-toggle="modal" data-target="#modal-python-opencv-examples-experiment" data-focus="false">Click here to get the Python Face Detection & OpenCV Examples Mini-Guide</a> that shows you practical code examples of real-world Python computer vision techniques.</p></div>
<section class="section2" id="what-are-color-spaces"><h2>What Are Color Spaces?<a class="headerlink" href="#what-are-color-spaces" title="Permanent link"></a></h2>
<p>In the most common color space, RGB (Red Green Blue), colors are represented in terms of their red, green, and blue components. In more technical terms, RGB describes a color as a tuple of three components. Each component can take a value between 0 and 255, where the tuple <code>(0, 0, 0)</code> represents black and <code>(255, 255, 255)</code> represents white.</p>
<p><strong>RGB is considered an &ldquo;additive&rdquo; color space</strong>, and colors can be imagined as being produced from shining quantities of red, blue, and green light onto a black background. </p>
<p>Here are a few more examples of colors in RGB:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Color</th>
<th>RGB value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>255, 0, 0</td>
</tr>
<tr>
<td>Orange</td>
<td>255, 128, 0</td>
</tr>
<tr>
<td>Pink</td>
<td>255, 153, 255</td>
</tr>
</tbody>
</table>
</div>
<p>RGB is one of the five major color space models, each of which has many offshoots. <strong>There are so many color spaces because different color spaces are useful for different purposes</strong>.</p>
<p>In the printing world, <strong>CMYK</strong> is useful because it describes the color combinations required to produce a color from a white background. While the 0 tuple in RGB is black, in CMYK the 0 tuple is white. Our printers contain ink canisters of cyan, magenta, yellow, and black. </p>
<p>In certain types of medical fields, glass slides mounted with stained tissue samples are scanned and saved as images. They can be analyzed in <strong>HED</strong> space, a representation of the saturations of the stain types&mdash;hematoxylin, eosin, and DAB&mdash;applied to the original tissue.</p>
<p><strong>HSV and HSL</strong> are descriptions of hue, saturation, and brightness/luminance, which are particularly useful for identifying contrast in images. These color spaces are frequently used in color selection tools in software and for web design.</p>
<p>In reality, color is a continuous phenomenon, meaning that there are an infinite number of colors. Color spaces, however, represent color through discrete structures (a fixed number of whole number integer values), which is acceptable since the human eye and perception are also limited. Color spaces are fully able to represent all the colors we are able to distinguish between.</p>
<p>Now that we understand the concept of color spaces, we can go on to use them in OpenCV.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section2" id="simple-segmentation-using-color-spaces"><h2>Simple Segmentation Using Color Spaces<a class="headerlink" href="#simple-segmentation-using-color-spaces" title="Permanent link"></a></h2>
<p>To demonstrate the color space segmentation technique, we&rsquo;ve provided a small dataset of images of clownfish in the Real Python materials repository <a href="https://github.com/realpython/materials/tree/master/opencv-color-spaces">here</a> for you to download and play with. Clownfish are easily identifiable by their bright orange color, so they&rsquo;re a good candidate for segmentation. Let&rsquo;s see how well we can find Nemo in an image.</p>
<p>The key <a href="https://realpython.com/python-modules-packages/">Python packages</a> you&rsquo;ll need to follow along are NumPy, the foremost package for scientific computing in Python, Matplotlib, a plotting library, and of course OpenCV. This articles uses OpenCV 3.2.0, NumPy 1.12.1, and Matplotlib 2.0.2. Slightly different versions won&rsquo;t make a significant difference in terms of following along and grasping the concepts.</p>
<p>If you are not familiar with NumPy or Matplotlib, you can read about them in <a href="https://docs.scipy.org/doc/numpy-1.15.0/user/">the official NumPy guide</a> and Brad Solomon&rsquo;s excellent <a href="https://realpython.com/python-matplotlib-guide/">article on Matplotlib</a>.</p>
<section class="section3" id="color-spaces-and-reading-images-in-opencv"><h3>Color Spaces and Reading Images in OpenCV<a class="headerlink" href="#color-spaces-and-reading-images-in-opencv" title="Permanent link"></a></h3>
<p>First, you will need to set up your environment. This article will assume you have Python 3.x installed on your system. Note that while the current version of OpenCV is 3.x, the name of the package to import is still <code>cv2</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cv2</span>
</code></pre></div>
<p>If you haven&rsquo;t previously installed OpenCV on your computer, the import will fail until you do that first. You can find a user-friendly tutorial for installing on different operating systems <a href="https://www.pyimagesearch.com/opencv-tutorials-resources-guides/">here</a>, as well as OpenCV&rsquo;s own <a href="https://docs.opencv.org/master/da/df6/tutorial_py_table_of_contents_setup.html">installation guide</a>. Once you&rsquo;ve successfully imported OpenCV, you can look at all the color space conversions OpenCV provides, and you can save them all into a <a href="https://realpython.com/python-variables/">variable</a>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">cv2</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;COLOR_&#39;</span><span class="p">)]</span>
</code></pre></div>
<p>The list and number of flags may vary slightly depending on your version of OpenCV, but regardless, there will be a lot! See how many flags you have available:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">flags</span><span class="p">)</span>
<span class="go">258</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span><span class="p">[</span><span class="mi">40</span><span class="p">]</span>
<span class="go">&#39;COLOR_BGR2RGB&#39;</span>
</code></pre></div>
<p>The first characters after <code>COLOR_</code> indicate the origin color space, and the characters after the <code>2</code> are the target color space. This flag represents a conversion from BGR (Blue, Green, Red) to RGB. As you can see, the two color spaces are very similar, with only the first and last channels swapped.</p>
<p>You will need <code>matplotlib.pyplot</code> for viewing the images, and NumPy for some image manipulation. If you do not already have Matplotlib or NumPy installed, you will need to <code>pip3 install matplotlib</code> and <code>pip3 install numpy</code> before attempting the imports:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</code></pre></div>
<p>Now you are ready to load and examine an image. Note that if you are working from the command line or terminal, your images will appear in a pop-up window. If you are working in a Jupyter notebook or something similar, they will simply be displayed below. Regardless of your setup, you should see the image generated by the <code>show()</code> command:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">nemo</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;./images/nemo0.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">nemo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/bgr_nemo.6526cc40dea8.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/bgr_nemo.6526cc40dea8.png" width="1114" height="762" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/bgr_nemo.6526cc40dea8.png&amp;w=278&amp;sig=1a72ac72e26eae77680cf3aa819a96de17bca1bb 278w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/bgr_nemo.6526cc40dea8.png&amp;w=557&amp;sig=6e58fd02b77f33942e7033a867062617483c3361 557w, https://files.realpython.com/media/bgr_nemo.6526cc40dea8.png 1114w" sizes="75vw" alt="OpenCV uses BGR by default" data-asset="719" /></a></figure>
<p>Hey, Nemo&hellip;or Dory? You&rsquo;ll notice that it looks like the blue and red channels have been mixed up. In fact, <strong>OpenCV by default reads images in BGR format.</strong> You can use the <code>cvtColor(image, flag)</code> and the flag we looked at above to fix this:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">nemo</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">nemo</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">nemo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/rgb_nemo.116314a879f5.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/rgb_nemo.116314a879f5.png" width="1084" height="743" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/rgb_nemo.116314a879f5.png&amp;w=271&amp;sig=e5ace1131ebfb4698cff03a05c21b8027d0f837e 271w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/rgb_nemo.116314a879f5.png&amp;w=542&amp;sig=ee6c6081aaf92583c4902258d10c97097d0bb022 542w, https://files.realpython.com/media/rgb_nemo.116314a879f5.png 1084w" sizes="75vw" alt="BGR to RGB" data-asset="720" /></a></figure>
<p>Now Nemo looks much more like himself.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="visualizing-nemo-in-rgb-color-space"><h3>Visualizing Nemo in RGB Color Space<a class="headerlink" href="#visualizing-nemo-in-rgb-color-space" title="Permanent link"></a></h3>
<p>HSV is a good choice of color space for segmenting by color, but to see why, let&rsquo;s compare the image in both RGB and HSV color spaces by visualizing the color distribution of its pixels. A 3D plot shows this quite nicely, with each axis representing one of the channels in the color space. If you want to know how to make a 3D plot, view the collapsed section:</p>
<div class="card mb-3" id="collapse_carde851ea">
<div class="card-header border-0">
<p class="m-0"><button class="btn w-100" data-toggle="collapse" data-target="#collapsee851ea" aria-expanded="false" aria-controls="collapsee851ea" markdown="1"><span class="float-left" markdown="1">How to Make a Colored 3D Scatter Plot</span><span class="float-right text-muted">Show/Hide</span></button></p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_carde851ea" id="collapsee851ea">
<div class="card-body">
<p>To make the plot, you will need a few more Matplotlib libraries:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">colors</span>
</code></pre></div>
<p>Those libraries provide the functionalities you need for the plot. You want to place each pixel in its location based on its components and color it by its color. OpenCV <code>split()</code> is very handy here; it splits an image into its component channels. These few lines of code split the image and set up the 3D plot:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">nemo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s2">&quot;3d&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Now that you have set up the plot, you need to set up the pixel colors. In order to color each pixel according to its true color, there&rsquo;s a bit of reshaping and normalization required. It looks messy, but essentially you need the colors corresponding to every pixel in the image to be flattened into a list and normalized, so that they can be passed to the <code>facecolors</code> parameter of Matplotlib <code>scatter()</code>.</p>
<p>Normalizing just means condensing the range of colors from <code>0-255</code> to <code>0-1</code> as required for the <code>facecolors</code> parameter. Lastly, <code>facecolors</code> wants a list, not an NumPy array:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pixel_colors</span> <span class="o">=</span> <span class="n">nemo</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">nemo</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">nemo</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">norm</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=-</span><span class="mf">1.</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">norm</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="n">pixel_colors</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pixel_colors</span> <span class="o">=</span> <span class="n">norm</span><span class="p">(</span><span class="n">pixel_colors</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</code></pre></div>
<p>Now we have all the components ready for plotting: the pixel positions for each axis and their corresponding colors, in the format <code>facecolors</code> expects. You can build the scatter plot and view it:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">g</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">b</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">facecolors</span><span class="o">=</span><span class="n">pixel_colors</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Red&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Green&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Blue&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>
<p>Here is the colored scatter plot for the Nemo image in RGB:</p>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/rgb_plot_nemo.83aa081c1b1d.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/rgb_plot_nemo.83aa081c1b1d.png" width="966" height="727" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/rgb_plot_nemo.83aa081c1b1d.png&amp;w=241&amp;sig=236b677c3811977533aba2381c0a25277916f654 241w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/rgb_plot_nemo.83aa081c1b1d.png&amp;w=483&amp;sig=eca851f198f66a8807ef7775ef162a75d23902dd 483w, https://files.realpython.com/media/rgb_plot_nemo.83aa081c1b1d.png 966w" sizes="75vw" alt="3D scatter plot of image in RGB" data-asset="721" /></a></figure>
<p>From this plot, you can see that the orange parts of the image span across almost the entire range of red, green, and blue values. Since parts of Nemo stretch over the whole plot, segmenting Nemo out in RGB space based on ranges of RGB values would not be easy.</p>
</section><section class="section3" id="visualizing-nemo-in-hsv-color-space"><h3>Visualizing Nemo in HSV Color Space<a class="headerlink" href="#visualizing-nemo-in-hsv-color-space" title="Permanent link"></a></h3>
<p>We saw Nemo in RGB space, so now let&rsquo;s view him in HSV space and compare.</p>
<p>As mentioned briefly above, <strong>HSV stands for Hue, Saturation, and Value (or brightness)</strong>, and is a cylindrical color space. The colors, or hues, are modeled as an angular dimension rotating around a central, vertical axis, which represents the value channel. Values go from dark (0 at the bottom) to light at the top. The third axis, saturation, defines the shades of hue from least saturated, at the vertical axis, to most saturated furthest away from the center:</p>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/hsv.e3f7a0c4a59f.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/hsv.e3f7a0c4a59f.png" width="395" height="314" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/hsv.e3f7a0c4a59f.png&amp;w=98&amp;sig=52c4cc332dea68cfa844cdb6b3fd9ec5e2f49f58 98w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/hsv.e3f7a0c4a59f.png&amp;w=197&amp;sig=b5f276fef920ed47f4c5a20a8aa41d478236c354 197w, https://files.realpython.com/media/hsv.e3f7a0c4a59f.png 395w" sizes="75vw" alt="HSV color space cylinder" data-asset="722" /></a><figcaption class="figure-caption text-center">Image: Wikipedia</figcaption></figure>
<p>To convert an image from RGB to HSV, you can use <code>cvtColor()</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">hsv_nemo</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">nemo</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_RGB2HSV</span><span class="p">)</span>
</code></pre></div>
<p>Now <code>hsv_nemo</code> stores the representation of Nemo in HSV. Using the same technique as above, we can look at a plot of the image in HSV, generated by the collapsed section below:</p>
<div class="card mb-3" id="collapse_card71475a">
<div class="card-header border-0">
<p class="m-0"><button class="btn w-100" data-toggle="collapse" data-target="#collapse71475a" aria-expanded="false" aria-controls="collapse71475a" markdown="1"><span class="float-left" markdown="1">Generating the Colored 3D Scatter Plot for the Image in HSV</span><span class="float-right text-muted">Show/Hide</span></button></p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_card71475a" id="collapse71475a">
<div class="card-body">
<p>The code to show the image in HSV is the same as for RGB. Note that you use the same <code>pixel_colors</code> variable for coloring the pixels, since Matplotlib expects the values to be in RGB:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">hsv_nemo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s2">&quot;3d&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">s</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">v</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">facecolors</span><span class="o">=</span><span class="n">pixel_colors</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Hue&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Saturation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/hsv_plot_nemo.0c82432ce86a.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/hsv_plot_nemo.0c82432ce86a.png" width="949" height="736" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/hsv_plot_nemo.0c82432ce86a.png&amp;w=237&amp;sig=e41ef79cfd2fa30835199e911c40f10e562c7d92 237w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/hsv_plot_nemo.0c82432ce86a.png&amp;w=474&amp;sig=f3493eb1ee0bc0132aadee51c57f30850c057331 474w, https://files.realpython.com/media/hsv_plot_nemo.0c82432ce86a.png 949w" sizes="75vw" alt="3D scatter plot of image in HSV" data-asset="723" /></a></figure>
<p>In HSV space, Nemo&rsquo;s oranges are much more localized and visually separable. The saturation and value of the oranges do vary, but they are mostly located within a small range along the hue axis. <strong>This is the key point that can be leveraged for segmentation.</strong></p>
</section><section class="section3" id="picking-out-a-range"><h3>Picking Out a Range<a class="headerlink" href="#picking-out-a-range" title="Permanent link"></a></h3>
<p>Let&rsquo;s threshold Nemo just based on a simple range of oranges. You can choose the range by eyeballing the plot above or using a color picking app online such as this <a href="https://toolstud.io/color/rgb.php">RGB to HSV tool</a>. The swatches chosen here are a light orange and a darker orange that is almost red:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">light_orange</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dark_orange</span> <span class="o">=</span> <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
</code></pre></div>
<p>If you want to use Python to display the colors you chose, click on the collapsed section:</p>
<div class="card mb-3" id="collapse_card4a9f7a">
<div class="card-header border-0">
<p class="m-0"><button class="btn w-100" data-toggle="collapse" data-target="#collapse4a9f7a" aria-expanded="false" aria-controls="collapse4a9f7a" markdown="1"><span class="float-left" markdown="1">Displaying the HSV Colors Chosen</span><span class="float-right text-muted">Show/Hide</span></button></p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_card4a9f7a" id="collapse4a9f7a">
<div class="card-body">
<p>A simple way to display the colors in Python is to make small square images of the desired color and plot them in Matplotlib. Matplotlib only interprets colors in RGB, but handy conversion functions are provided for the major color spaces so that we can plot images in other color spaces:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">hsv_to_rgb</span>
</code></pre></div>
<p>Then, build the small <code>10x10x3</code> squares, filled with the respective color. You can use NumPy to easily fill the squares with the color:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lo_square</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">light_orange</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">do_square</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dark_orange</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span>
</code></pre></div>
<p>Finally, you can plot them together by converting them to RGB for viewing:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">do_square</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">lo_square</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>
<p>That produces these images, filled with the chosen colors:</p>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/oranges.591061cd9a6a.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/oranges.591061cd9a6a.png" width="1063" height="518" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/oranges.591061cd9a6a.png&amp;w=265&amp;sig=bedd5884224727870fc5726437cdae84a9679ebe 265w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/oranges.591061cd9a6a.png&amp;w=531&amp;sig=8200001fa130f0b7b6b407cbd51ac23ab91d5528 531w, https://files.realpython.com/media/oranges.591061cd9a6a.png 1063w" sizes="75vw" alt="The light and dark orange range" data-asset="724" /></a></figure>
<p>Once you get a decent color range, you can use <code>cv2.inRange()</code> to try to threshold Nemo. <code>inRange()</code> takes three parameters: <strong>the image, the lower range, and the higher range</strong>. It returns a binary mask (an <code>ndarray</code> of 1s and 0s) the size of the image where values of <code>1</code> indicate values within the range, and zero values indicate values outside:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">inRange</span><span class="p">(</span><span class="n">hsv_nemo</span><span class="p">,</span> <span class="n">light_orange</span><span class="p">,</span> <span class="n">dark_orange</span><span class="p">)</span>
</code></pre></div>
<p>To impose the mask on top of the original image, you can use <code>cv2.bitwise_and()</code>, which keeps every pixel in the given image if the corresponding value in the mask is <code>1</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">nemo</span><span class="p">,</span> <span class="n">nemo</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</code></pre></div>
<p>To see what that did exactly, let&rsquo;s view both the mask and the original image with the mask on top:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/mask_and_orig.865119b98b08.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/mask_and_orig.865119b98b08.png" width="1099" height="372" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mask_and_orig.865119b98b08.png&amp;w=274&amp;sig=02cf09244340063b2290ef9949b85a9282880226 274w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mask_and_orig.865119b98b08.png&amp;w=549&amp;sig=53aaccc38b529cb5e5ff2478640f69a5c32d92cc 549w, https://files.realpython.com/media/mask_and_orig.865119b98b08.png 1099w" sizes="75vw" alt="Mask and original with mask imposed" data-asset="725" /></a></figure>
<p>There you have it! This has already done a decent job of capturing the orange parts of the fish. The only problem is that Nemo also has white stripes&hellip; Fortunately, adding a second mask that looks for whites is very similar to what you did already with the oranges:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">light_white</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dark_white</span> <span class="o">=</span> <span class="p">(</span><span class="mi">145</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
</code></pre></div>
<p>Once you&rsquo;ve specified a color range, you can look at the colors you&rsquo;ve chosen:</p>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/whites.5feaf9246242.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/whites.5feaf9246242.png" width="1061" height="530" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/whites.5feaf9246242.png&amp;w=265&amp;sig=83ba3b3404338ff36c85dbd21ae2d0b9c82afabd 265w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/whites.5feaf9246242.png&amp;w=530&amp;sig=47c29f475f4976ceceea07381c32b859208952c2 530w, https://files.realpython.com/media/whites.5feaf9246242.png 1061w" sizes="75vw" alt="White range" data-asset="726" /></a></figure>
<div class="card mb-3" id="collapse_carde14487">
<div class="card-header border-0">
<p class="m-0"><button class="btn w-100" data-toggle="collapse" data-target="#collapsee14487" aria-expanded="false" aria-controls="collapsee14487" markdown="1"><span class="float-left" markdown="1">Displaying the Whites</span><span class="float-right text-muted">Show/Hide</span></button></p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_carde14487" id="collapsee14487">
<div class="card-body">
<p>To display the whites, you can take the same approach as we did previously with the oranges:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lw_square</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">light_white</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dw_square</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dark_white</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">lw_square</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">dw_square</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>
<p>The upper range I&rsquo;ve chosen here is a very blue white, because the white does have tinges of blue in the shadows. Let&rsquo;s create a second mask and see if it captures Nemo&rsquo;s stripes. You can build a second mask the same way as you did the first:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">mask_white</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">inRange</span><span class="p">(</span><span class="n">hsv_nemo</span><span class="p">,</span> <span class="n">light_white</span><span class="p">,</span> <span class="n">dark_white</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_white</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">nemo</span><span class="p">,</span> <span class="n">nemo</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask_white</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mask_white</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">result_white</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/mask_and_orig_whites.d0f575325c86.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/mask_and_orig_whites.d0f575325c86.png" width="1086" height="376" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mask_and_orig_whites.d0f575325c86.png&amp;w=271&amp;sig=51ec35ce63fbccfc8792f518f4457a6063dfac2f 271w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mask_and_orig_whites.d0f575325c86.png&amp;w=543&amp;sig=f7129e4ffec0d6ab4c8e566c8b8a04ad5f56845b 543w, https://files.realpython.com/media/mask_and_orig_whites.d0f575325c86.png 1086w" sizes="75vw" alt="Mask and original for white stripes" data-asset="727" /></a></figure>
<p>Not bad! Now you can combine the masks. Adding the two masks together results in <code>1</code> values wherever there is orange <em>or</em> white, which is exactly what is needed. Let&rsquo;s add the masks together and plot the results:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">final_mask</span> <span class="o">=</span> <span class="n">mask</span> <span class="o">+</span> <span class="n">mask_white</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">final_result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">nemo</span><span class="p">,</span> <span class="n">nemo</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">final_mask</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">final_mask</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">final_result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/mask_and_orig_final.2397f42f890a.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/mask_and_orig_final.2397f42f890a.png" width="1086" height="377" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mask_and_orig_final.2397f42f890a.png&amp;w=271&amp;sig=63a314cb890d08a868060c3c0c926a7ba043c0b5 271w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mask_and_orig_final.2397f42f890a.png&amp;w=543&amp;sig=c445cc7cd25bf43d1e948fb617c1f3d948f841f5 543w, https://files.realpython.com/media/mask_and_orig_final.2397f42f890a.png 1086w" sizes="75vw" alt="Final combined mask and original" data-asset="728" /></a></figure>
<p>Essentially, you have a rough segmentation of Nemo in HSV color space. You&rsquo;ll notice there are a few stray pixels along the segmentation border, and if you like, you can use a Gaussian blur to tidy up the small false detections.</p>
<p>A Gaussian blur is an image filter that uses a kind of function called a Gaussian to transform each pixel in the image. It has the result of smoothing out image noise and reducing detail. Here&rsquo;s what applying the blur looks like for our image:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">blur</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">final_result</span><span class="p">,</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">blur</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/seg_nemo.c2509cb8e806.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/seg_nemo.c2509cb8e806.png" width="1103" height="757" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/seg_nemo.c2509cb8e806.png&amp;w=275&amp;sig=181c6026de0d52e9b5952b3d1aa3f0be9472f192 275w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/seg_nemo.c2509cb8e806.png&amp;w=551&amp;sig=2361091a572d0ab35d3f45186de3428643c214f5 551w, https://files.realpython.com/media/seg_nemo.c2509cb8e806.png 1103w" sizes="75vw" alt="Final segmented Nemo with blur" data-asset="729" /></a></figure>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section></section><section class="section2" id="does-this-segmentation-generalize-to-nemos-relatives"><h2>Does This Segmentation Generalize to Nemo&rsquo;s Relatives?<a class="headerlink" href="#does-this-segmentation-generalize-to-nemos-relatives" title="Permanent link"></a></h2>
<p>Just for fun, let&rsquo;s see how well this segmentation technique generalizes to other clownfish images. In the repository, there&rsquo;s a selection of six images of clownfish from Google, licensed for public use. The images are in a subdirectory and indexed nemo<em>i</em>.jpg, where <em>i</em> is the index from <code>0-5</code>.</p>
<p>First, load all Nemo&rsquo;s relatives into a list:</p>
<div class="highlight python"><pre><span></span><code><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;./images/nemo&quot;</span>

<span class="n">nemos_friends</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
   <span class="n">friend</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.jpg&quot;</span><span class="p">),</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
   <span class="n">nemos_friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
</code></pre></div>
<p>You can combine all the code used above to segment a single fish into a function that will take an image as input and return the segmented image. Expand this section to see what that looks like: </p>
<div class="card mb-3" id="collapse_card5088ff">
<div class="card-header border-0">
<p class="m-0"><button class="btn w-100" data-toggle="collapse" data-target="#collapse5088ff" aria-expanded="false" aria-controls="collapse5088ff" markdown="1"><span class="float-left" markdown="1">The Segment Fish Function</span><span class="float-right text-muted">Show/Hide</span></button></p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_card5088ff" id="collapse5088ff">
<div class="card-body">
<p>Here is the <code>segment_fish()</code> function:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">segment_fish</span><span class="p">(</span><span class="n">image</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Attempts to segment the clownfish out of the provided image &#39;&#39;&#39;</span>

    <span class="c1"># Convert the image into HSV</span>
    <span class="n">hsv_image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_RGB2HSV</span><span class="p">)</span>

    <span class="c1"># Set the orange range</span>
    <span class="n">light_orange</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">dark_orange</span> <span class="o">=</span> <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

    <span class="c1"># Apply the orange mask </span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">inRange</span><span class="p">(</span><span class="n">hsv_image</span><span class="p">,</span> <span class="n">light_orange</span><span class="p">,</span> <span class="n">dark_orange</span><span class="p">)</span>

    <span class="c1"># Set a white range</span>
    <span class="n">light_white</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">dark_white</span> <span class="o">=</span> <span class="p">(</span><span class="mi">145</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

    <span class="c1"># Apply the white mask</span>
    <span class="n">mask_white</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">inRange</span><span class="p">(</span><span class="n">hsv_image</span><span class="p">,</span> <span class="n">light_white</span><span class="p">,</span> <span class="n">dark_white</span><span class="p">)</span>

    <span class="c1"># Combine the two masks</span>
    <span class="n">final_mask</span> <span class="o">=</span> <span class="n">mask</span> <span class="o">+</span> <span class="n">mask_white</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">final_mask</span><span class="p">)</span>

    <span class="c1"># Clean up the segmentation using a blur</span>
    <span class="n">blur</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">blur</span>
</code></pre></div>
</div>
</div>
</div>
<p>With that useful function, you can then segment all the fish:</p>
<div class="highlight python"><pre><span></span><code><span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">segment_fish</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span> <span class="k">for</span> <span class="n">friend</span> <span class="ow">in</span> <span class="n">nemos_friends</span><span class="p">]</span>
</code></pre></div>
<p>Let&rsquo;s view all the results by plotting them in a loop:</p>
<div class="highlight python"><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">nemos_friends</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/nemo_friend_1.727c3534d5ab.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/nemo_friend_1.727c3534d5ab.png" width="1158" height="440" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_1.727c3534d5ab.png&amp;w=289&amp;sig=ec7f3d1b394fac513df01b74fe522fe0008b4a5a 289w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_1.727c3534d5ab.png&amp;w=579&amp;sig=d7e1f3a62155edac307e6cdd3176f75804391327 579w, https://files.realpython.com/media/nemo_friend_1.727c3534d5ab.png 1158w" sizes="75vw" alt="Nemo&#x27;s friend 1" data-asset="730" /></a></figure>
<p>The foreground clownfish has orange shades darker than our range.</p>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/nemo_friend_2.c97bd4642274.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/nemo_friend_2.c97bd4642274.png" width="1156" height="464" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_2.c97bd4642274.png&amp;w=289&amp;sig=cca12478e17ac660ab4321b8cb877b1ebdc77e06 289w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_2.c97bd4642274.png&amp;w=578&amp;sig=10b951cb64bfa57a08c0dbe9957456e2ae779ade 578w, https://files.realpython.com/media/nemo_friend_2.c97bd4642274.png 1156w" sizes="75vw" alt="Nemo&#x27;s friend 2" data-asset="731" /></a></figure>
<p>The shadowed bottom half of Nemo&rsquo;s nephew is completely excluded, but bits of the purple anemone in the background look awfully like Nemo&rsquo;s blue tinged stripes&hellip;</p>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/nemo_friend_3.36db40b694f0.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/nemo_friend_3.36db40b694f0.png" width="1166" height="458" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_3.36db40b694f0.png&amp;w=291&amp;sig=ddc97ccf7e2a6362d343b8405129daff389e3652 291w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_3.36db40b694f0.png&amp;w=583&amp;sig=3dab106edc0e9cc038a335b6c4e2aa478001ae4f 583w, https://files.realpython.com/media/nemo_friend_3.36db40b694f0.png 1166w" sizes="75vw" alt="Nemo&#x27;s friend 3" data-asset="732" /></a></figure>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/nemo_friend_4.3da61ed16efa.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/nemo_friend_4.3da61ed16efa.png" width="1168" height="496" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_4.3da61ed16efa.png&amp;w=292&amp;sig=1b9f47856145cd98097363a9d4c089e7fe101fef 292w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_4.3da61ed16efa.png&amp;w=584&amp;sig=8e20fcc9748e5b999d8cf56a30fc1214eef0656a 584w, https://files.realpython.com/media/nemo_friend_4.3da61ed16efa.png 1168w" sizes="75vw" alt="Nemo&#x27;s friend 4" data-asset="733" /></a></figure>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/nemo_friend_5.a4e3c288b4e4.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/nemo_friend_5.a4e3c288b4e4.png" width="1198" height="504" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_5.a4e3c288b4e4.png&amp;w=299&amp;sig=e2e8512948d8df83fa3f759cd344f3ef82293d30 299w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/nemo_friend_5.a4e3c288b4e4.png&amp;w=599&amp;sig=b971a5247dc2e730616762e69568ae834bd53047 599w, https://files.realpython.com/media/nemo_friend_5.a4e3c288b4e4.png 1198w" sizes="75vw" alt="Nemo&#x27;s friend 5" data-asset="734" /></a></figure>
<p>Overall, this simple segmentation method has successfully located the majority of Nemo&rsquo;s relatives. It is clear, however, that segmenting one clownfish with particular lighting and background may not necessarily generalize well to segmenting all clownfish.</p>
</section><section class="section2" id="conclusion"><h2>Conclusion<a class="headerlink" href="#conclusion" title="Permanent link"></a></h2>
<p>In this tutorial, you&rsquo;ve seen what a few different color spaces are, how an image is distributed across RGB and HSV color spaces, and how to use OpenCV to convert between color spaces and segment out ranges.</p>
<p>Altogether, you&rsquo;ve learned how a basic understanding of how color spaces in OpenCV can be used to perform object segmentation in images, and hopefully seen its potential for doing other tasks as well. Where lighting and background are controlled, such as in an experimental setting or with a more homogeneous dataset, this segmentation technique is simple, fast, and reliable.</p>
</section>
<div class="text-center my-3">
<div class="jsCompletionStatusWidget btn-group mb-0">
<button title="Click to mark as completed" class="jsBtnCompletion btn btn-secondary border-right " style="border-top-right-radius: 0; border-bottom-right-radius: 0;" disabled>Mark as Completed</button>
<button title="Add bookmark" class="jsBtnBookmark btn btn-secondary border-left" disabled><i class="fa fa-fw fa-bookmark-o"></i></button>
</div>
</div>
</div>
<div class="card mt-4 mb-4 bg-secondary">
<p class="card-header h3 text-center bg-light">🐍 Python Tricks 💌</p>
<div class="card-body">
<div class="container">
<div class="row">
<div class="col-xs-12 col-sm-7">
<p>Get a short &amp; sweet <strong>Python Trick</strong> delivered to your inbox every couple of days. No spam ever. Unsubscribe any time. Curated by the Real Python team.</p>
</div>
<div class="col-xs-12 col-sm-5">
<img class="img-fluid rounded mb-3" src="https://cdn.realpython.com/static/pytrick-dict-merge.4201a0125a5e.png" width="738" height="490" alt="Python Tricks Dictionary Merge">
</div>
</div>
<div class="row mb-3">
<form class="col-12" action="/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="JSDheSvjzfkOJNBr4jiiVevFw6058fyFPXiuPrHhUKfYTGg9d5KsljuBM15ZlN2u">
<input type="hidden" name="slug" value="static-python-tricks-footer">
<div class="form-group">
<input name="email" type="email" class="form-control form-control-lg" placeholder="Email Address" required>
</div>
<button name="submit" type="submit" class="btn btn-primary btn-lg btn-block">Send Me Python Tricks »</button>
</form>
</div>
</div>
</div>
</div>
<div class="card mt-3" id="author">
<p class="card-header h3">About <strong>Rebecca Stone</strong></p>
<div class="card-body">
<div class="container p-0">
<div class="row">
<div class="col-12 col-md-3 align-self-center">
<a href="/team/rstone/"><img loading="lazy" src="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=245&amp;h=245&amp;mode=crop&amp;sig=44cd0b2125ff73159863fd61eb5f2b1ca4975e13" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=61&amp;h=61&amp;mode=crop&amp;sig=8913ed1bc47774021d401bf7dea64e7e7cb43b39 61w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=122&amp;h=122&amp;mode=crop&amp;sig=2edf868b9030678c63dedfa39d4d05f997ce53b2 122w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=245&amp;h=245&amp;mode=crop&amp;sig=44cd0b2125ff73159863fd61eb5f2b1ca4975e13 245w" sizes="25vw" width="245" height="245" class="d-block d-md-none rounded-circle img-fluid w-33 mb-0 mx-auto" alt="Rebecca Stone"></a>
<a href="/team/rstone/"><img loading="lazy" src="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=245&amp;h=245&amp;mode=crop&amp;sig=44cd0b2125ff73159863fd61eb5f2b1ca4975e13" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=61&amp;h=61&amp;mode=crop&amp;sig=8913ed1bc47774021d401bf7dea64e7e7cb43b39 61w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=122&amp;h=122&amp;mode=crop&amp;sig=2edf868b9030678c63dedfa39d4d05f997ce53b2 122w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/avatar_2019.a43824888e35.png&amp;w=245&amp;h=245&amp;mode=crop&amp;sig=44cd0b2125ff73159863fd61eb5f2b1ca4975e13 245w" sizes="25vw" width="245" height="245" class="d-none d-md-block rounded-circle img-fluid w-100 mb-0" alt="Rebecca Stone"></a>
</div>
<div class="col mt-3">
<p>Rebecca is a PhD student in computer vision and artificial intelligence applied to medical images. She&#x27;s passionate about teaching.</p>
<a href="/team/rstone/" class="card-link">» More about Rebecca</a>
</div>
</div>
</div>
</div>
<hr class="my-0">
<div class="card-body pb-0">
<div class="container">
<div class="row">
<p><em>Each tutorial at Real Python is created by a team of developers so that it meets our high quality standards. The team members who worked on this tutorial are:</em></p>
</div>
<div class="row align-items-center w-100 mx-auto">
<div class="col-4 col-sm-2 align-self-center">
<a href="/team/acutenco/"><img loading="lazy" src="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/acutenco.676e4197c133.jpg&amp;w=900&amp;h=900&amp;mode=crop&amp;sig=24cf94292ef36437cfbefea8426a0eaf6ca3f45b" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/acutenco.676e4197c133.jpg&amp;w=225&amp;h=225&amp;mode=crop&amp;sig=7cca7452c6f8a07ddcf7a86daa5053b7a67ae31e 225w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/acutenco.676e4197c133.jpg&amp;w=450&amp;h=450&amp;mode=crop&amp;sig=f9731172573b6157e33d670efdd6fd23ebc813cc 450w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/acutenco.676e4197c133.jpg&amp;w=900&amp;h=900&amp;mode=crop&amp;sig=24cf94292ef36437cfbefea8426a0eaf6ca3f45b 900w" sizes="10vw" width="245" height="245" class="rounded-circle img-fluid w-100" alt="Adriana Cutenco"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="/team/acutenco/" class="card-link small"><p>Adriana</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="/team/damos/"><img loading="lazy" src="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/me-small.f5f49f1c48e1.jpg&amp;w=400&amp;h=400&amp;mode=crop&amp;sig=522ebc378492fd2228f8a9980bf89544b51aba2c" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/me-small.f5f49f1c48e1.jpg&amp;w=100&amp;h=100&amp;mode=crop&amp;sig=4e832705873c990ccc3fe2459dcd2b081613ecb1 100w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/me-small.f5f49f1c48e1.jpg&amp;w=200&amp;h=200&amp;mode=crop&amp;sig=ecc773a7a56114ed2831d281156669f0d7f1ab68 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/me-small.f5f49f1c48e1.jpg&amp;w=400&amp;h=400&amp;mode=crop&amp;sig=522ebc378492fd2228f8a9980bf89544b51aba2c 400w" sizes="10vw" width="245" height="245" class="rounded-circle img-fluid w-100" alt="David Amos"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="/team/damos/" class="card-link small"><p>David</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="/team/jjablonski/"><img loading="lazy" src="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=800&amp;h=800&amp;mode=crop&amp;sig=c363b704eeccb35f2247db13baff3d4383459858" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=200&amp;h=200&amp;mode=crop&amp;sig=706b16de3cb88a8f353f4a98d7c7bc7234229bd0 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=400&amp;h=400&amp;mode=crop&amp;sig=6d7aa672ca3f1ac5f7cd62ed1641b60f98d04d8b 400w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=800&amp;h=800&amp;mode=crop&amp;sig=c363b704eeccb35f2247db13baff3d4383459858 800w" sizes="10vw" width="245" height="245" class="rounded-circle img-fluid w-100" alt="Joanna Jablonski"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="/team/jjablonski/" class="card-link small"><p>Joanna</p></a>
</div>
</div>
</div>
</div>
</div>
<div class="bg-light rounded py-4 my-4 shadow shadow-sm mx-n2">
<div class="col-12 text-center d-block d-md-none">
<p class="h2 mb-3">Master <u><span class="marker-highlight">Real-World Python Skills</mark></u> With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-1"><img class="w-75" src="https://cdn.realpython.com/static/videos/lesson-locked.f5105cfd26db.svg" width="510" height="260"></p>
<p class="mx-auto w-75 mb-3 small"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert&nbsp;Pythonistas:</strong></p>
<p class="mb-0"><a href="/account/join/?utm_source=rp_article_footer&utm_content=python-opencv-color-spaces" class="btn btn-primary btn-sm px-4 mb-0">Level Up Your Python Skills »</a>
</div>
<div class="col-12 text-center d-none d-md-block">
<p class="h2 mb-2">Master <u><span class="marker-highlight">Real-World Python Skills</span></u><br>With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-2"><img class="w-50 mb-2" src="https://cdn.realpython.com/static/videos/lesson-locked.f5105cfd26db.svg" width="510" height="260"></p>
<p class="mx-auto w-50 mb-3"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
<p><a href="/account/join/?utm_source=rp_article_footer&utm_content=python-opencv-color-spaces" class="btn btn-primary btn-lg px-4">Level Up Your Python Skills »</a>
</div>
</div>
<div class="card mt-4" id="reader-comments">
<p class="card-header h3">What Do You Think?</p>
<div class="text-center mt-3 mb-0 p-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check out this %23Python tutorial: Image%20Segmentation%20Using%20Color%20Spaces%20in%20OpenCV%20%2B%20Python by @realpython&url=https%3A//realpython.com/python-opencv-color-spaces/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/python-opencv-color-spaces/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python article for you&body=Check out this Python tutorial:%0A%0AImage%20Segmentation%20Using%20Color%20Spaces%20in%20OpenCV%20%2B%20Python%0A%0Ahttps%3A//realpython.com/python-opencv-color-spaces/" class="badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="card-body">
<div class="alert alert-dark">
<p class="mb-0"><strong>Real Python Comment Policy:</strong> The most useful comments are those written with the goal of learning from or helping out other readers—after reading the whole article and all the earlier comments. Complaints and insults generally won’t make the cut here.</p>
</div>
<p>What’s your #1 takeaway or favorite thing you learned? How are you going to put your newfound skills to use? Leave a comment below and let us know.</p>
<div class="mb-4" id="disqus_thread">
</div>
</div>
</div>
<div class="card mt-4 mb-4">
<p class="card-header h3">Keep Learning</p>
<div class="card-body">
<p class="mb-0">Related Tutorial Categories:
<a href="/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="/tutorials/machine-learning/" class="badge badge-light text-muted">machine-learning</a>
</p>
</div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" id="rprw">
<div class="modal-dialog modal-lg modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header border-0 mt-3">
<div class="col-12 modal-title text-center">
<h2 class="my-0 mx-5">Keep reading Real&nbsp;Python by creating a free account or signing&nbsp;in:</h2>
</div>
</div>
<div class="modal-body bg-light">
<div class="col-12 text-center">
<p class="mb-2 mt-3"><a href="/account/signup/?intent=continue_reading&utm_source=rp&utm_medium=web&utm_campaign=rwn&utm_content=v1&next=%2Fpython-opencv-color-spaces%2F"><img class="w-50 mb-2" src="https://cdn.realpython.com/static/videos/lesson-locked.f5105cfd26db.svg" width="510" height="260" alt="Keep reading"></a></p>
<p><a href="/account/signup/?intent=continue_reading&utm_source=rp&utm_medium=web&utm_campaign=rwn&utm_content=v1&next=%2Fpython-opencv-color-spaces%2F" class="btn btn-primary btn-lg px-5"></i>Continue »</a></a>
</div>
</div>
<div class="modal-footer border-0">
<p class="text-center text-muted mt-2 mb-1">Already have an account? <a href="/account/login/?next=/python-opencv-color-spaces/">Sign-In</a></p>
</div>
</div>
</div>
</div>
<script src="https://cdn.realpython.com/static/frontend/reader/rw.38bf29157dfe.js" async></script>
</div>
<aside class="col-md-7 col-lg-4">
<div class="card mb-3 bg-secondary">
<form class="card-body" action="/optins/process/" method="post">
<div class="form-group">
<p class="h5 text-muted text-center">— FREE Email Series —</p>
<p class="h3 text-center">🐍 Python Tricks 💌</p>
<p><img class="img-fluid rounded" src="https://cdn.realpython.com/static/pytrick-dict-merge.4201a0125a5e.png" width="738" height="490" alt="Python Tricks Dictionary Merge"></p>
</div>
<div class="form-group">
<input type="hidden" name="csrfmiddlewaretoken" value="JSDheSvjzfkOJNBr4jiiVevFw6058fyFPXiuPrHhUKfYTGg9d5KsljuBM15ZlN2u">
<input type="hidden" name="slug" value="static-python-tricks-sidebar">
<input type="email" class="form-control form-control-md" name="email" placeholder="Email&hellip;" required>
</div>
<button type="submit" name="submit" class="btn btn-primary btn-md btn-block">Get Python Tricks »</button>
<p class="mb-0 mt-2 text-muted text-center">🔒 No spam. Unsubscribe any time.</p>
</form>
</div>
<div class="sidebar-module sidebar-module-inset border">
<p class="h4"><a class="link-unstyled" href="/tutorials/all/">All Tutorial Topics</a></p>
<a href="/tutorials/advanced/" class="badge badge-light text-muted">advanced</a>
<a href="/tutorials/api/" class="badge badge-light text-muted">api</a>
<a href="/tutorials/basics/" class="badge badge-light text-muted">basics</a>
<a href="/tutorials/best-practices/" class="badge badge-light text-muted">best-practices</a>
<a href="/tutorials/community/" class="badge badge-light text-muted">community</a>
<a href="/tutorials/databases/" class="badge badge-light text-muted">databases</a>
<a href="/tutorials/data-science/" class="badge badge-light text-muted">data-science</a>
<a href="/tutorials/devops/" class="badge badge-light text-muted">devops</a>
<a href="/tutorials/django/" class="badge badge-light text-muted">django</a>
<a href="/tutorials/docker/" class="badge badge-light text-muted">docker</a>
<a href="/tutorials/flask/" class="badge badge-light text-muted">flask</a>
<a href="/tutorials/front-end/" class="badge badge-light text-muted">front-end</a>
<a href="/tutorials/gamedev/" class="badge badge-light text-muted">gamedev</a>
<a href="/tutorials/gui/" class="badge badge-light text-muted">gui</a>
<a href="/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="/tutorials/machine-learning/" class="badge badge-light text-muted">machine-learning</a>
<a href="/tutorials/projects/" class="badge badge-light text-muted">projects</a>
<a href="/tutorials/python/" class="badge badge-light text-muted">python</a>
<a href="/tutorials/testing/" class="badge badge-light text-muted">testing</a>
<a href="/tutorials/tools/" class="badge badge-light text-muted">tools</a>
<a href="/tutorials/web-dev/" class="badge badge-light text-muted">web-dev</a>
<a href="/tutorials/web-scraping/" class="badge badge-light text-muted">web-scraping</a>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:100%;"></div>
<div class="rpad" data-unit="1x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
</div>
<div class="sidebar-sticky ">
<div class="bg-light sidebar-module sidebar-module-inset" id="sidebar-toc">
<p class="h4 text-muted"><a class="link-unstyled" href="#toc">Table of Contents</a></p>
<div class="toc">
<ul>
<li><a href="#what-are-color-spaces">What Are Color Spaces?</a></li>
<li><a href="#simple-segmentation-using-color-spaces">Simple Segmentation Using Color Spaces</a><ul>
<li><a href="#color-spaces-and-reading-images-in-opencv">Color Spaces and Reading Images in OpenCV</a></li>
<li><a href="#visualizing-nemo-in-rgb-color-space">Visualizing Nemo in RGB Color Space</a></li>
<li><a href="#visualizing-nemo-in-hsv-color-space">Visualizing Nemo in HSV Color Space</a></li>
<li><a href="#picking-out-a-range">Picking Out a Range</a></li>
</ul>
</li>
<li><a href="#does-this-segmentation-generalize-to-nemos-relatives">Does This Segmentation Generalize to Nemo&rsquo;s Relatives?</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset text-center my-3 py-0">
<div class="jsCompletionStatusWidget btn-group mb-0">
<button title="Click to mark as completed" class="jsBtnCompletion btn btn-secondary border-right " style="border-top-right-radius: 0; border-bottom-right-radius: 0;" disabled>Mark as Completed</button>
<button title="Add bookmark" class="jsBtnBookmark btn btn-secondary border-left" disabled><i class="fa fa-fw fa-bookmark-o"></i></button>
</div>
</div>
<div class="sidebar-module sidebar-module-inset text-center my-3 py-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check out this %23Python tutorial: Image%20Segmentation%20Using%20Color%20Spaces%20in%20OpenCV%20%2B%20Python by @realpython&url=https%3A//realpython.com/python-opencv-color-spaces/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/python-opencv-color-spaces/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python article for you&body=Check out this Python tutorial:%0A%0AImage%20Segmentation%20Using%20Color%20Spaces%20in%20OpenCV%20%2B%20Python%0A%0Ahttps%3A//realpython.com/python-opencv-color-spaces/" class="badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:25%;"></div>
<div class="rpad" data-unit="4x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
</div>
</div>
</aside>
</div>
</div>
<div class="modal fade" id="modal-python-opencv-examples-experiment" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header bg-light pt-3 pb-2">
<div class="container-fluid">
<div class="row">
<div class="col-12">
<div class="progress" style="height: .5rem;">
<div class="progress-bar progress-bar-striped progress-bar-animated w-50" role="progressbar"></div>
</div>
</div>
<div class="col-12">
<p class="text-muted text-center mb-0 mt-2">Almost there! Complete this form and click the button below to gain instant access:</p>
</div>
</div>
</div>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body m-4">
<div class="container-fluid">
<div class="row align-items-center">
<div class="col-12 col-lg-4 mb-4">
<img class="img-fluid rounded" src="https://files.realpython.com/media/face-detection-abba.ea2dcc6d3bda.jpg" width="502" height="464" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/face-detection-abba.ea2dcc6d3bda.jpg&amp;w=125&amp;sig=5abd5698348a2d40b5c2fa52b3b64e0661a854dc 125w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/face-detection-abba.ea2dcc6d3bda.jpg&amp;w=251&amp;sig=16e9d9b9fd9e95d2c4b070e787359357cf2bf2d4 251w, https://files.realpython.com/media/face-detection-abba.ea2dcc6d3bda.jpg 502w" sizes="50vw" alt="Python face detection example 1: Abba">
</div>
<div class="col">
<p class="text-center h3 mb-4">Python Face Detection &amp; OpenCV Examples Mini-Guide</p>
<form class="col-12" action="/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="JSDheSvjzfkOJNBr4jiiVevFw6058fyFPXiuPrHhUKfYTGg9d5KsljuBM15ZlN2u">
<input type="hidden" name="slug" value="python-opencv-examples-experiment">
<div class="form-group">
<input type="email" name="email" class="form-control" placeholder="Email Address" required autofocus>
</div>
<button name="submit" type="submit" class="btn btn-primary btn-block text-wrap">Send My Free Guide »</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<footer class="footer">
<div class="container">
<div class="w-75 mx-auto mt-4 mb-0">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:12.5%;"></div>
<div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
<a class="small text-muted" href="/account/join/" rel="nofollow"> <i class="fa fa-info-circle" aria-hidden="true"> </i> Remove ads</a>
</div>
<p class="text-center text-muted w-75 mx-auto">© 2012–2021 Real Python&nbsp;⋅ <a href="/newsletter/">Newsletter</a>&nbsp;⋅ <a href="/podcasts/rpp/">Podcast</a>&nbsp;⋅ <a href="https://www.youtube.com/realpython">YouTube</a>&nbsp;⋅ <a href="https://twitter.com/realpython">Twitter</a>&nbsp;⋅ <a href="https://facebook.com/LearnRealPython">Facebook</a>&nbsp;⋅ <a href="https://www.instagram.com/realpython/">Instagram</a>&nbsp;⋅ <a href="/">Python&nbsp;Tutorials</a>&nbsp;⋅ <a href="/search">Search</a>&nbsp;⋅ <a href="/privacy-policy/">Privacy Policy</a>&nbsp;⋅ <a href="/energy-policy/" class="text-success active">Energy Policy</a>&nbsp;⋅ <a href="/sponsorships/">Advertise</a>&nbsp;⋅ <a href="/contact/">Contact</a><br>❤️ Happy Pythoning!</p>
</div>
</footer>
<script>
      (function(document, history, location) {
        var HISTORY_SUPPORT = !!(history && history.pushState);

        var anchorScrolls = {
          ANCHOR_REGEX: /^#[^ ]+$/,
          OFFSET_HEIGHT_PX: 120,

          /**
           * Establish events, and fix initial scroll position if a hash is provided.
           */
          init: function() {
            this.scrollToCurrent();
            window.addEventListener('hashchange', this.scrollToCurrent.bind(this));
            document.body.addEventListener('click', this.delegateAnchors.bind(this));
          },

          /**
           * Return the offset amount to deduct from the normal scroll position.
           * Modify as appropriate to allow for dynamic calculations
           */
          getFixedOffset: function() {
            return this.OFFSET_HEIGHT_PX;
          },

          /**
           * If the provided href is an anchor which resolves to an element on the
           * page, scroll to it.
           * @param  {String} href
           * @return {Boolean} - Was the href an anchor.
           */
          scrollIfAnchor: function(href, pushToHistory) {
            var match, rect, anchorOffset;

            if(!this.ANCHOR_REGEX.test(href)) {
              return false;
            }

            match = document.getElementById(href.slice(1));

            if(match) {
              rect = match.getBoundingClientRect();
              anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();
              window.scrollTo(window.pageXOffset, anchorOffset);

              // Add the state to history as-per normal anchor links
              if(HISTORY_SUPPORT && pushToHistory) {
                history.pushState({}, document.title, location.pathname + href);
              }
            }

            return !!match;
          },

          /**
           * Attempt to scroll to the current location's hash.
           */
          scrollToCurrent: function() {
            this.scrollIfAnchor(window.location.hash);
          },

          /**
           * If the click event's target was an anchor, fix the scroll position.
           */
          delegateAnchors: function(e) {
            var elem = e.target;

            if(
              elem.nodeName === 'A' &&
              this.scrollIfAnchor(elem.getAttribute('href'), true)
            ) {
              e.preventDefault();
            }
          }
        };

        window.addEventListener(
          'DOMContentLoaded', anchorScrolls.init.bind(anchorScrolls)
        );
      })(window.document, window.history, window.location);
    </script>
<script src="https://cdn.realpython.com/static/jquery.min.8fb8fee4fcc3.js"></script>
<script src="https://cdn.realpython.com/static/popper.min.1022eaf388cc.js"></script>
<script src="https://cdn.realpython.com/static/bootstrap.min.f0c2bcf5ef0c.js"></script>
<script>
    (function() {
      document.querySelectorAll(".js-search-form-submit").forEach(function(el) {
        el.addEventListener("click", function(e) {
          e.preventDefault();
          e.currentTarget.parentElement.submit();
        })
      });
    })();
    </script>
<script src="https://cdn.realpython.com/static/frontend/reader/repl-toggle.de6c7bf44788.js" async></script>
<script src="https://cdn.realpython.com/static/frontend/reader/lightbox.49cdac39212e.js" async></script>
<script>window.rp_prop_id = '58946116052';</script>
<script src="https://srv.realpython.net/tag.js" async></script>
<script src="https://cdn.realpython.com/static/frontend/reader/toc-refresh.76a102c7d921.js" async></script>
<script id="js-context" type="application/json">{"is_completed": false, "is_bookmarked": false, "api_article_bookmark_url": "/api/v1/articles/python-opencv-color-spaces/bookmark/", "api_article_completion_status_url": "/api/v1/articles/python-opencv-color-spaces/completion_status/"}</script>
<script src="https://cdn.realpython.com/static/frontend/reader/completion-status.352d07abd84a.js" async></script>
<script id="dsq-count-scr" src="https://realpython.disqus.com/count.js" async></script>
<script>
      var disqus_config = function () {
        this.page.url = 'https://realpython.com/python-opencv-color-spaces/';
        this.page.identifier = 'https://realpython.com/python-opencv-color-spaces/';
        this.callbacks.onReady = [function() {
          if (window.onDisqusReady) {
            window.onDisqusReady();
          }
        }];
      };
      var disqus_script_url = 'https://realpython.disqus.com/embed.js';
    </script>
<script src="https://cdn.realpython.com/static/frontend/reader/lazy-disqus.07ee9079f4a3.js" defer></script>
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Image Segmentation Using Color Spaces in OpenCV + Python",
    
    "image": {
      "@type": "ImageObject",
      "url": "https://files.realpython.com/media/Simple-image-segmentation-using-OpenCV-color-spaces_Watermark.b9993eceabc0.jpg",
      "width": 1920,
      "height": 1080
    },
    
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://realpython.com/python-opencv-color-spaces/"
    },
    "datePublished": "2018-09-26T14:00:00+00:00",
    "dateModified": "2020-11-07T09:11:18.591453+00:00",
     "publisher": {
      "@type": "Organization",
      "name": "Real Python",
      "logo": {
        "@type": "ImageObject",
        "url": "https://cdn.realpython.com/static/real-python-logo-square-tiny.b2452b6d3823.png",
        "width": 60,
        "height": 60
      }
    },
    "author": {
      "@type": "Organization",
      "name": "Real Python",
      "url": "https://realpython.com",
      "logo": "https://cdn.realpython.com/static/real-python-logo-square.146e987bf77c.png"
    },
    "description": "In this introductory tutorial, you\u0027ll learn how to simply segment an object from an image based on color in Python using OpenCV. A popular computer vision library written in C/C++ with bindings for Python, OpenCV provides easy ways of manipulating color spaces."
  }
  </script>
<script>
  var _dcq = _dcq || [];
  var _dcs = _dcs || {};
  _dcs.account = '6214500';

  (function() {
    var dc = document.createElement('script');
    dc.type = 'text/javascript'; dc.async = true;
    dc.src = '//tag.getdrip.com/6214500.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(dc, s);
  })();
</script>
<script type="text/javascript">(function(){window['__CF$cv$params']={r:'694a45abb8173749',m:'nz.vg1bVWeB5Yv7umM29Fvr9MvDjLjqjbmd0j7naIqo-1632636029-0-AdV52nzcvwe8jbAgkzai+a5+9thpAjQ0gzWaOa8nrQfXm32zz1hvczztdzAxHY4+v8YiftU46s+OHE9xh1cf79oDhlq0vGIyU2TgyyAkxdUIpV/Vd9jIGasc/F/6rK+9o0ycvLuuhrVG9+M8yiQFA+w=',s:[0x7b7966601c,0xedcf157cb2],u:'/cdn-cgi/challenge-platform/h/b'}})();</script></body>
</html>
