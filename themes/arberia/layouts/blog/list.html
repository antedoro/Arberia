{{ define "main" }}

<div class="container main-content">
    <div class="row justify-content-center">
        <!-- Sidebar -->
        {{ if .Params.sidebar }}
        <aside class="col-md-7 col-lg-4 order-first order-lg-last">
            <div class="card sidebar-sticky mb-3" style="margin-top: 62px">
                <p class="h4 text-left">Sidebar</p>

            </div>
        </aside>
        {{ end }}

        <!-- All Post List-->
        <div id="listArea" class="col-md-11 col-lg-8 article">
            {{/*  Title  */}}
            <h1 class="text-center" id="python-learning-paths">{{ .Title | markdownify }}
                <a class="headerlink" href="{{- .RelPermalink -}}" title="Permanent link"></a></h1>

            {{/*  Subtitle */}}
            {{ with .Params.subtitle }}
            <p class="text-center text-muted">{{ . | markdownify }}</p>
            {{ end }}

            {{- /* Cover Image */ -}}
            {{ $img := (.Resources.ByType "image").GetMatch "featured-image" }}
            {{ with $img }}
            {{ $imageName := $img.Title }}
            {{ $imageName = $imageName | strings.TrimSuffix (path.Ext $imageName )}}
            {{ partial "tools/img" (dict "img" . "alt" $imageName ) }}
            {{ end }}

            {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
            {{/*  {{ $paginator := .Paginate (where .Data.Pages "Type" "posts") }} */}}
            <div class="container my-3">
                {{ range $paginator.Pages.ByDate.Reverse }}
                <div class="row py-3" style="border-bottom: 1px solid #dee2e6;">

                    {{- /* Post Cover Image */ -}}
                    <div class="col-12 col-sm-4 align-self-top px-0 py-2">
                        <a href="{{.RelPermalink}}">
                            {{ $img := (.Resources.ByType "image").GetMatch "featured-image" }}
                            {{ with $img }}
                            {{ $imageName := $img.Title }}
                            {{ $imageName = $imageName | strings.TrimSuffix (path.Ext $imageName )}}
                            {{ partial "tools/img" (dict "img" . "alt" $imageName ) }}
                            {{ end }}
                        </a>
                    </div>

                    <div class="col-12 col-sm-8 px-0 pl-sm-3 pt-2 pt-sm-0">
                        <a href="{{.RelPermalink}}" class="stretched-link">
                            <h2 class="my-0 h5">{{ .Title }}<span title="In-Progress" class="float-right">
                                    <i class="fas fa-circle-notch text-muted"></i></span></h2>
                        </a>
                        <p class="small text-muted my-0">
                            <span class="mr-2">{{ .PublishDate.Format "2 January 2006" }}</span>
                            {{/*  <span aria-hidden="true" class="fa fa-tags"></span>
                            {{ range .Params.tags }}
                            <a class="badge badge-light text-muted mr-1"
                                href="{{ "/tags/" | relLangURL }}{{ . | urlize }}">{{ . }}</a>
                            {{end}} */}}

                            {{/*  Tag list  */}}
                            {{ partial "components/tag.html" . }}

                        </p>
                        <!-- Usare la funzione truncate -->
                        <p class="text-muted my-0 mt-1 small">{{ .Summary | truncate 240 | safeHTML }}</p>
                        <!-- Aggiunta da me -->
                        <div>
                            <a class="small" href="{{ .RelPermalink }}">Read More…</a>
                            {{/*  <a class="small" style= "display: flex; justify-content: flex-end" href="{{ .RelPermalink }}">Read
                            More…</a> */}}
                        </div>
                    </div>

                </div>
                {{/*  <hr>  */}}
                {{/*  <div>  */}}
                {{ end }}

                {{/*  creare una css class per il paginator  */}}
                {{/*  <div class="text-muted my-0 mt-1" style="display: flex; justify-content: center;">
                {{ partial "pagination.html" . }}
            </div> */}}
            <div class="text-muted my-0 mt-1" style="display: flex; justify-content: center;">
                {{ partial "paginator.html" . }}
            </div>
            {{/*  <div class="text-muted my-0 mt-1" style="display: flex; justify-content: center;">
                    <!-- Hugo's default pagination template. -->
                        { template "_internal/pagination.html" . }}
        </div> */}}
    </div>

</div>
</div>
</div>
{{end}}